<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resume - Daniel Kindl</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet" />
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    :root {
      --bg-primary: #ffffff;
      --text-primary: #1e1e1e;
      --text-secondary: #424242;
      --accent: #2d7a4e;
      --border: #e5e5e5;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #f5f5f5;
      color: var(--text-primary);
      line-height: 1.5;
      padding: 2rem;
    }

    .page {
      background: white;
      width: 210mm;
      min-height: 297mm;
      margin: 0 auto;
      padding: 20mm;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: relative;
    }

    @media print {
      body {
        background: white;
        padding: 0;
      }
      .page {
        box-shadow: none;
        margin: 0;
        width: auto;
        height: auto;
      }
      .no-print {
        display: none !important;
      }
    }

    /* Header */
    header {
      border-bottom: 2px solid var(--text-primary);
      padding-bottom: 1.5rem;
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    .header-left h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.5rem;
      text-transform: uppercase;
      letter-spacing: -1px;
      margin-bottom: 0.5rem;
    }

    .header-left h2 {
      font-family: 'Fira Code', monospace;
      font-size: 1.1rem;
      color: var(--accent);
      font-weight: 600;
    }

    .header-right {
      text-align: right;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .contact-item {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 0.5rem;
      margin-bottom: 0.25rem;
    }

    .contact-item a {
      color: inherit;
      text-decoration: none;
    }

    /* Sections */
    section {
      margin-bottom: 2rem;
    }

    .section-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.25rem;
      text-transform: uppercase;
      border-bottom: 1px solid var(--border);
      padding-bottom: 0.5rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .section-title i {
      color: var(--accent);
    }

    /* Experience */
    .job-item {
      margin-bottom: 1.5rem;
    }

    .job-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.25rem;
    }

    .job-role {
      font-weight: 700;
      font-size: 1.1rem;
    }

    .job-company {
      font-weight: 600;
      color: var(--text-secondary);
    }

    .job-date {
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      color: var(--accent);
    }

    .job-location {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-style: italic;
    }

    .job-description {
      margin-top: 0.5rem;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .job-tech {
      margin-top: 0.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .tech-tag {
      font-family: 'Fira Code', monospace;
      font-size: 0.75rem;
      padding: 0.1rem 0.4rem;
      border: 1px solid var(--border);
      border-radius: 3px;
      background: #f9f9f9;
    }

    /* Skills */
    .skills-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .skill-category h4 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .skill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    /* Projects */
    .project-item {
      margin-bottom: 1rem;
    }

    .project-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    .project-name {
      font-weight: 700;
      font-size: 1rem;
    }

    .project-link {
      font-size: 0.8rem;
      color: var(--accent);
      text-decoration: none;
      font-family: 'Fira Code', monospace;
    }

    .project-desc {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* Print Button */
    .print-btn {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      padding: 1rem 2rem;
      background: var(--text-primary);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 4px 4px 0 var(--accent);
      transition: transform 0.2s;
      z-index: 100;
    }

    .print-btn:hover {
      transform: translate(-2px, -2px);
      box-shadow: 6px 6px 0 var(--accent);
    }
  </style>
</head>
<body>

  <button class="print-btn no-print" onclick="window.print()">
    <i class="fas fa-print"></i> Print / Save as PDF
  </button>

  <div class="page">
    <header>
      <div class="header-left">
        <h1>Daniel Kindl</h1>
        <h2>Software Engineer</h2>
      </div>
      <div class="header-right">
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <a href="mailto:daniel.kindl@proton.me">daniel.kindl@proton.me</a>
        </div>
        <div class="contact-item">
          <i class="fab fa-github"></i>
          <a href="https://github.com/daniel-kindl">github.com/daniel-kindl</a>
        </div>
        <div class="contact-item">
          <i class="fab fa-linkedin"></i>
          <a href="https://linkedin.com/in/kindldaniel">linkedin.com/in/kindldaniel</a>
        </div>
        <div class="contact-item">
          <i class="fas fa-globe"></i>
          <a href="https://daniel-kindl.github.io">daniel-kindl.github.io</a>
        </div>
      </div>
    </header>

    <section id="summary">
      <div class="section-title">
        <i class="fas fa-user"></i> Professional Summary
      </div>
      <p style="font-size: 0.95rem; color: var(--text-secondary);">
        Passionate Software Engineer specializing in C#, .NET, and modern web technologies. 
        Experienced in developing scalable desktop and web applications, modernizing legacy systems, 
        and implementing clean architecture. Dedicated to writing efficient, maintainable code and 
        leveraging AI tools to enhance productivity.
      </p>
    </section>

    <section id="experience">
      <div class="section-title">
        <i class="fas fa-briefcase"></i> Experience
      </div>
      <div id="experience-list">
        <!-- Populated by JS -->
      </div>
    </section>

    <section id="skills">
      <div class="section-title">
        <i class="fas fa-tools"></i> Technical Skills
      </div>
      <div class="skills-grid" id="skills-list">
        <!-- Populated by JS -->
      </div>
    </section>

    <section id="projects">
      <div class="section-title">
        <i class="fas fa-code"></i> Featured Projects
      </div>
      <div id="projects-list">
        <!-- Populated by JS -->
      </div>
    </section>
  </div>

  <script type="module">
    import { config } from './src/scripts/config.js';
    import { pinnedReposService } from './src/scripts/services/pinnedReposService.js';

    // Render Experience
    const expContainer = document.getElementById('experience-list');
    config.experience.forEach(job => {
      const div = document.createElement('div');
      div.className = 'job-item';
      div.innerHTML = `
        <div class="job-header">
          <div>
            <div class="job-role">${job.role}</div>
            <div class="job-company">${job.company}</div>
          </div>
          <div style="text-align: right;">
            <div class="job-date">${job.period}</div>
            ${job.location ? `<div class="job-location">${job.location}</div>` : ''}
          </div>
        </div>
        <p class="job-description">${job.description}</p>
        <div class="job-tech">
          ${job.technologies.map(t => `<span class="tech-tag">${t}</span>`).join('')}
        </div>
      `;
      expContainer.appendChild(div);
    });

    // Render Skills
    const skillsContainer = document.getElementById('skills-list');
    config.skills.forEach(cat => {
      const div = document.createElement('div');
      div.className = 'skill-category';
      div.innerHTML = `
        <h4>${cat.category}</h4>
        <div class="skill-list">
          ${cat.items.map(s => `<span class="tech-tag">${s.name}</span>`).join('')}
        </div>
      `;
      skillsContainer.appendChild(div);
    });

    // Render Projects (Featured) - using pinned repos service
    async function renderProjects() {
      const projContainer = document.getElementById('projects-list');
      
      try {
        const projects = await pinnedReposService.getPinnedRepos();
        
        projects.forEach(p => {
          const div = document.createElement('div');
          div.className = 'project-item';
          div.innerHTML = `
            <div class="project-header">
              <div class="project-name">${p.name}</div>
              <a href="${p.html_url}" class="project-link" target="_blank">View Code <i class="fas fa-external-link-alt"></i></a>
            </div>
            <p class="project-desc">${p.description || 'No description available'}</p>
            <div class="job-tech">
              ${p.language ? `<span class="tech-tag">${p.language}</span>` : ''}
              ${p.topics ? p.topics.map(t => `<span class="tech-tag">${t}</span>`).join('') : ''}
            </div>
          `;
          projContainer.appendChild(div);
        });
      } catch (error) {
        console.error('Error rendering projects:', error);
        // Fall back to config if service fails
        const fallbackProjects = config.featuredProjects || [];
        fallbackProjects.forEach(p => {
          const div = document.createElement('div');
          div.className = 'project-item';
          div.innerHTML = `
            <div class="project-header">
              <div class="project-name">${p.name}</div>
              <a href="${p.html_url}" class="project-link" target="_blank">View Code <i class="fas fa-external-link-alt"></i></a>
            </div>
            <p class="project-desc">${p.description || 'No description available'}</p>
            <div class="job-tech">
              ${p.language ? `<span class="tech-tag">${p.language}</span>` : ''}
              ${p.topics ? p.topics.map(t => `<span class="tech-tag">${t}</span>`).join('') : ''}
            </div>
          `;
          projContainer.appendChild(div);
        });
      }
    }

    renderProjects();
  </script>
</body>
</html>
